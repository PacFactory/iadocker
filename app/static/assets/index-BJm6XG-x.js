(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var le,k,rt,V,Fe,lt,ot,at,Ae,be,we,it,re={},st=[],It=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,oe=Array.isArray;function H(t,e){for(var r in e)t[r]=e[r];return t}function De(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ct(t,e,r){var l,a,o,s={};for(o in e)o=="key"?l=e[o]:o=="ref"?a=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?le.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)s[o]===void 0&&(s[o]=t.defaultProps[o]);return te(t,s,l,a,null)}function te(t,e,r,l,a){var o={type:t,props:e,key:r,ref:l,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:a??++rt,__i:-1,__u:0};return a==null&&k.vnode!=null&&k.vnode(o),o}function G(t){return t.children}function ne(t,e){this.props=t,this.context=e}function Y(t,e){if(e==null)return t.__?Y(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Y(t):null}function dt(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return dt(t)}}function xe(t){(!t.__d&&(t.__d=!0)&&V.push(t)&&!ue.__r++||Fe!=k.debounceRendering)&&((Fe=k.debounceRendering)||lt)(ue)}function ue(){for(var t,e,r,l,a,o,s,d=1;V.length;)V.length>d&&V.sort(ot),t=V.shift(),d=V.length,t.__d&&(r=void 0,l=void 0,a=(l=(e=t).__v).__e,o=[],s=[],e.__P&&((r=H({},l)).__v=l.__v+1,k.vnode&&k.vnode(r),Te(e.__P,r,l,e.__n,e.__P.namespaceURI,32&l.__u?[a]:null,o,a??Y(l),!!(32&l.__u),s),r.__v=l.__v,r.__.__k[r.__i]=r,pt(o,r,s),l.__e=l.__=null,r.__e!=a&&dt(r)));ue.__r=0}function ut(t,e,r,l,a,o,s,d,u,c,f){var i,g,p,b,w,x,v,m=l&&l.__k||st,I=e.length;for(u=At(r,e,m,u,I),i=0;i<I;i++)(p=r.__k[i])!=null&&(g=p.__i==-1?re:m[p.__i]||re,p.__i=i,x=Te(t,p,g,a,o,s,d,u,c,f),b=p.__e,p.ref&&g.ref!=p.ref&&(g.ref&&Pe(g.ref,null,p),f.push(p.ref,p.__c||b,p)),w==null&&b!=null&&(w=b),(v=!!(4&p.__u))||g.__k===p.__k?u=ht(p,u,t,v):typeof p.type=="function"&&x!==void 0?u=x:b&&(u=b.nextSibling),p.__u&=-7);return r.__e=w,u}function At(t,e,r,l,a){var o,s,d,u,c,f=r.length,i=f,g=0;for(t.__k=new Array(a),o=0;o<a;o++)(s=e[o])!=null&&typeof s!="boolean"&&typeof s!="function"?(typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?s=t.__k[o]=te(null,s,null,null,null):oe(s)?s=t.__k[o]=te(G,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?s=t.__k[o]=te(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):t.__k[o]=s,u=o+g,s.__=t,s.__b=t.__b+1,d=null,(c=s.__i=Dt(s,r,u,i))!=-1&&(i--,(d=r[c])&&(d.__u|=2)),d==null||d.__v==null?(c==-1&&(a>f?g--:a<f&&g++),typeof s.type!="function"&&(s.__u|=4)):c!=u&&(c==u-1?g--:c==u+1?g++:(c>u?g--:g++,s.__u|=4))):t.__k[o]=null;if(i)for(o=0;o<f;o++)(d=r[o])!=null&&!(2&d.__u)&&(d.__e==l&&(l=Y(d)),_t(d,d));return l}function ht(t,e,r,l){var a,o;if(typeof t.type=="function"){for(a=t.__k,o=0;a&&o<a.length;o++)a[o]&&(a[o].__=t,e=ht(a[o],e,r,l));return e}t.__e!=e&&(l&&(e&&t.type&&!e.parentNode&&(e=Y(t)),r.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function ke(t,e){return e=e||[],t==null||typeof t=="boolean"||(oe(t)?t.some(function(r){ke(r,e)}):e.push(t)),e}function Dt(t,e,r,l){var a,o,s,d=t.key,u=t.type,c=e[r],f=c!=null&&(2&c.__u)==0;if(c===null&&d==null||f&&d==c.key&&u==c.type)return r;if(l>(f?1:0)){for(a=r-1,o=r+1;a>=0||o<e.length;)if((c=e[s=a>=0?a--:o++])!=null&&!(2&c.__u)&&d==c.key&&u==c.type)return s}return-1}function Me(t,e,r){e[0]=="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||It.test(e)?r:r+"px"}function ie(t,e,r,l,a){var o,s;e:if(e=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof l=="string"&&(t.style.cssText=l=""),l)for(e in l)r&&e in r||Me(t.style,e,"");if(r)for(e in r)l&&r[e]==l[e]||Me(t.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(at,"$1")),s=e.toLowerCase(),e=s in t||e=="onFocusOut"||e=="onFocusIn"?s.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=r,r?l?r.u=l.u:(r.u=Ae,t.addEventListener(e,o?we:be,o)):t.removeEventListener(e,o?we:be,o);else{if(a=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function Ne(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=Ae++;else if(e.t<r.u)return;return r(k.event?k.event(e):e)}}}function Te(t,e,r,l,a,o,s,d,u,c){var f,i,g,p,b,w,x,v,m,I,P,M,N,U,R,E,W,A=e.type;if(e.constructor!==void 0)return null;128&r.__u&&(u=!!(32&r.__u),o=[d=e.__e=r.__e]),(f=k.__b)&&f(e);e:if(typeof A=="function")try{if(v=e.props,m="prototype"in A&&A.prototype.render,I=(f=A.contextType)&&l[f.__c],P=f?I?I.props.value:f.__:l,r.__c?x=(i=e.__c=r.__c).__=i.__E:(m?e.__c=i=new A(v,P):(e.__c=i=new ne(v,P),i.constructor=A,i.render=Pt),I&&I.sub(i),i.state||(i.state={}),i.__n=l,g=i.__d=!0,i.__h=[],i._sb=[]),m&&i.__s==null&&(i.__s=i.state),m&&A.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=H({},i.__s)),H(i.__s,A.getDerivedStateFromProps(v,i.__s))),p=i.props,b=i.state,i.__v=e,g)m&&A.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),m&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(m&&A.getDerivedStateFromProps==null&&v!==p&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(v,P),e.__v==r.__v||!i.__e&&i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(v,i.__s,P)===!1){for(e.__v!=r.__v&&(i.props=v,i.state=i.__s,i.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(O){O&&(O.__=e)}),M=0;M<i._sb.length;M++)i.__h.push(i._sb[M]);i._sb=[],i.__h.length&&s.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(v,i.__s,P),m&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(p,b,w)})}if(i.context=P,i.props=v,i.__P=t,i.__e=!1,N=k.__r,U=0,m){for(i.state=i.__s,i.__d=!1,N&&N(e),f=i.render(i.props,i.state,i.context),R=0;R<i._sb.length;R++)i.__h.push(i._sb[R]);i._sb=[]}else do i.__d=!1,N&&N(e),f=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++U<25);i.state=i.__s,i.getChildContext!=null&&(l=H(H({},l),i.getChildContext())),m&&!g&&i.getSnapshotBeforeUpdate!=null&&(w=i.getSnapshotBeforeUpdate(p,b)),E=f,f!=null&&f.type===G&&f.key==null&&(E=ft(f.props.children)),d=ut(t,oe(E)?E:[E],e,r,l,a,o,s,d,u,c),i.base=e.__e,e.__u&=-161,i.__h.length&&s.push(i),x&&(i.__E=i.__=null)}catch(O){if(e.__v=null,u||o!=null)if(O.then){for(e.__u|=u?160:128;d&&d.nodeType==8&&d.nextSibling;)d=d.nextSibling;o[o.indexOf(d)]=null,e.__e=d}else{for(W=o.length;W--;)De(o[W]);Ce(e)}else e.__e=r.__e,e.__k=r.__k,O.then||Ce(e);k.__e(O,e,r)}else o==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):d=e.__e=Tt(r.__e,e,r,l,a,o,s,u,c);return(f=k.diffed)&&f(e),128&e.__u?void 0:d}function Ce(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(Ce)}function pt(t,e,r){for(var l=0;l<r.length;l++)Pe(r[l],r[++l],r[++l]);k.__c&&k.__c(e,t),t.some(function(a){try{t=a.__h,a.__h=[],t.some(function(o){o.call(a)})}catch(o){k.__e(o,a.__v)}})}function ft(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:oe(t)?t.map(ft):H({},t)}function Tt(t,e,r,l,a,o,s,d,u){var c,f,i,g,p,b,w,x=r.props||re,v=e.props,m=e.type;if(m=="svg"?a="http://www.w3.org/2000/svg":m=="math"?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),o!=null){for(c=0;c<o.length;c++)if((p=o[c])&&"setAttribute"in p==!!m&&(m?p.localName==m:p.nodeType==3)){t=p,o[c]=null;break}}if(t==null){if(m==null)return document.createTextNode(v);t=document.createElementNS(a,m,v.is&&v),d&&(k.__m&&k.__m(e,o),d=!1),o=null}if(m==null)x===v||d&&t.data==v||(t.data=v);else{if(o=o&&le.call(t.childNodes),!d&&o!=null)for(x={},c=0;c<t.attributes.length;c++)x[(p=t.attributes[c]).name]=p.value;for(c in x)if(p=x[c],c!="children"){if(c=="dangerouslySetInnerHTML")i=p;else if(!(c in v)){if(c=="value"&&"defaultValue"in v||c=="checked"&&"defaultChecked"in v)continue;ie(t,c,null,p,a)}}for(c in v)p=v[c],c=="children"?g=p:c=="dangerouslySetInnerHTML"?f=p:c=="value"?b=p:c=="checked"?w=p:d&&typeof p!="function"||x[c]===p||ie(t,c,p,x[c],a);if(f)d||i&&(f.__html==i.__html||f.__html==t.innerHTML)||(t.innerHTML=f.__html),e.__k=[];else if(i&&(t.innerHTML=""),ut(e.type=="template"?t.content:t,oe(g)?g:[g],e,r,l,m=="foreignObject"?"http://www.w3.org/1999/xhtml":a,o,s,o?o[0]:r.__k&&Y(r,0),d,u),o!=null)for(c=o.length;c--;)De(o[c]);d||(c="value",m=="progress"&&b==null?t.removeAttribute("value"):b!=null&&(b!==t[c]||m=="progress"&&!b||m=="option"&&b!=x[c])&&ie(t,c,b,x[c],a),c="checked",w!=null&&w!=t[c]&&ie(t,c,w,x[c],a))}return t}function Pe(t,e,r){try{if(typeof t=="function"){var l=typeof t.__u=="function";l&&t.__u(),l&&e==null||(t.__u=t(e))}else t.current=e}catch(a){k.__e(a,r)}}function _t(t,e,r){var l,a;if(k.unmount&&k.unmount(t),(l=t.ref)&&(l.current&&l.current!=t.__e||Pe(l,null,e)),(l=t.__c)!=null){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(o){k.__e(o,e)}l.base=l.__P=null}if(l=t.__k)for(a=0;a<l.length;a++)l[a]&&_t(l[a],e,r||typeof t.type!="function");r||De(t.__e),t.__c=t.__=t.__e=void 0}function Pt(t,e,r){return this.constructor(t,r)}function Bt(t,e,r){var l,a,o,s;e==document&&(e=document.documentElement),k.__&&k.__(t,e),a=(l=!1)?null:e.__k,o=[],s=[],Te(e,t=e.__k=ct(G,null,[t]),a||re,re,e.namespaceURI,a?null:e.firstChild?le.call(e.childNodes):null,o,a?a.__e:e.firstChild,l,s),pt(o,t,s)}function Et(t,e,r){var l,a,o,s,d=H({},t.props);for(o in t.type&&t.type.defaultProps&&(s=t.type.defaultProps),e)o=="key"?l=e[o]:o=="ref"?a=e[o]:d[o]=e[o]===void 0&&s!=null?s[o]:e[o];return arguments.length>2&&(d.children=arguments.length>3?le.call(arguments,2):r),te(t.type,d,l||t.key,a||t.ref,null)}function gt(t){function e(r){var l,a;return this.getChildContext||(l=new Set,(a={})[e.__c]=this,this.getChildContext=function(){return a},this.componentWillUnmount=function(){l=null},this.shouldComponentUpdate=function(o){this.props.value!=o.value&&l.forEach(function(s){s.__e=!0,xe(s)})},this.sub=function(o){l.add(o);var s=o.componentWillUnmount;o.componentWillUnmount=function(){l&&l.delete(o),s&&s.call(o)}}),r.children}return e.__c="__cC"+it++,e.__=t,e.Provider=e.__l=(e.Consumer=function(r,l){return r.children(l)}).contextType=e,e}le=st.slice,k={__e:function(t,e,r,l){for(var a,o,s;e=e.__;)if((a=e.__c)&&!a.__)try{if((o=a.constructor)&&o.getDerivedStateFromError!=null&&(a.setState(o.getDerivedStateFromError(t)),s=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(t,l||{}),s=a.__d),s)return a.__E=a}catch(d){t=d}throw t}},rt=0,ne.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=H({},this.state),typeof t=="function"&&(t=t(H({},r),this.props)),t&&H(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),xe(this))},ne.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),xe(this))},ne.prototype.render=G,V=[],lt=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ot=function(t,e){return t.__v.__b-e.__v.__b},ue.__r=0,at=/(PointerCapture)$|Capture$/i,Ae=0,be=Ne(!1),we=Ne(!0),it=0;var Lt=0;function n(t,e,r,l,a,o){e||(e={});var s,d,u=e;if("ref"in u)for(d in u={},e)d=="ref"?s=e[d]:u[d]=e[d];var c={type:t,props:u,key:r,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Lt,__i:-1,__u:0,__source:a,__self:o};if(typeof t=="function"&&(s=t.defaultProps))for(d in s)u[d]===void 0&&(u[d]=s[d]);return k.vnode&&k.vnode(c),c}var X,C,ge,Oe,he=0,vt=[],$=k,Ue=$.__b,Re=$.__r,He=$.diffed,We=$.__c,ze=$.unmount,qe=$.__;function pe(t,e){$.__h&&$.__h(C,t,he||e),he=0;var r=C.__H||(C.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function y(t){return he=1,Ft(yt,t)}function Ft(t,e,r){var l=pe(X++,2);if(l.t=t,!l.__c&&(l.__=[yt(void 0,e),function(d){var u=l.__N?l.__N[0]:l.__[0],c=l.t(u,d);u!==c&&(l.__N=[c,l.__[1]],l.__c.setState({}))}],l.__c=C,!C.__f)){var a=function(d,u,c){if(!l.__c.__H)return!0;var f=l.__c.__H.__.filter(function(g){return!!g.__c});if(f.every(function(g){return!g.__N}))return!o||o.call(this,d,u,c);var i=l.__c.props!==d;return f.forEach(function(g){if(g.__N){var p=g.__[0];g.__=g.__N,g.__N=void 0,p!==g.__[0]&&(i=!0)}}),o&&o.call(this,d,u,c)||i};C.__f=!0;var o=C.shouldComponentUpdate,s=C.componentWillUpdate;C.componentWillUpdate=function(d,u,c){if(this.__e){var f=o;o=void 0,a(d,u,c),o=f}s&&s.call(this,d,u,c)},C.shouldComponentUpdate=a}return l.__N||l.__}function Be(t,e){var r=pe(X++,3);!$.__s&&mt(r.__H,e)&&(r.__=t,r.u=e,C.__H.__h.push(r))}function Se(t,e){var r=pe(X++,7);return mt(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function je(t,e){return he=8,Se(function(){return t},e)}function Mt(t){var e=C.context[t.__c],r=pe(X++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(C)),e.props.value):t.__}function Nt(){for(var t;t=vt.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ce),t.__H.__h.forEach($e),t.__H.__h=[]}catch(e){t.__H.__h=[],$.__e(e,t.__v)}}$.__b=function(t){C=null,Ue&&Ue(t)},$.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),qe&&qe(t,e)},$.__r=function(t){Re&&Re(t),X=0;var e=(C=t.__c).__H;e&&(ge===C?(e.__h=[],C.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(e.__h.forEach(ce),e.__h.forEach($e),e.__h=[],X=0)),ge=C},$.diffed=function(t){He&&He(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(vt.push(e)!==1&&Oe===$.requestAnimationFrame||((Oe=$.requestAnimationFrame)||Ot)(Nt)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),ge=C=null},$.__c=function(t,e){e.some(function(r){try{r.__h.forEach(ce),r.__h=r.__h.filter(function(l){return!l.__||$e(l)})}catch(l){e.some(function(a){a.__h&&(a.__h=[])}),e=[],$.__e(l,r.__v)}}),We&&We(t,e)},$.unmount=function(t){ze&&ze(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(l){try{ce(l)}catch(a){e=a}}),r.__H=void 0,e&&$.__e(e,r.__v))};var Ve=typeof requestAnimationFrame=="function";function Ot(t){var e,r=function(){clearTimeout(l),Ve&&cancelAnimationFrame(e),setTimeout(t)},l=setTimeout(r,35);Ve&&(e=requestAnimationFrame(r))}function ce(t){var e=C,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),C=e}function $e(t){var e=C;t.__c=t.__(),C=e}function mt(t,e){return!t||t.length!==e.length||e.some(function(r,l){return r!==t[l]})}function yt(t,e){return typeof e=="function"?e(t):e}var Ut={};function se(t,e){for(var r in e)t[r]=e[r];return t}function Rt(t,e,r){var l,a=/(?:\?([^#]*))?(#.*)?$/,o=t.match(a),s={};if(o&&o[1])for(var d=o[1].split("&"),u=0;u<d.length;u++){var c=d[u].split("=");s[decodeURIComponent(c[0])]=decodeURIComponent(c.slice(1).join("="))}t=Ie(t.replace(a,"")),e=Ie(e||"");for(var f=Math.max(t.length,e.length),i=0;i<f;i++)if(e[i]&&e[i].charAt(0)===":"){var g=e[i].replace(/(^:|[+*?]+$)/g,""),p=(e[i].match(/[+*?]+$/)||Ut)[0]||"",b=~p.indexOf("+"),w=~p.indexOf("*"),x=t[i]||"";if(!x&&!w&&(p.indexOf("?")<0||b)){l=!1;break}if(s[g]=decodeURIComponent(x),b||w){s[g]=t.slice(i).map(decodeURIComponent).join("/");break}}else if(e[i]!==t[i]){l=!1;break}return(r.default===!0||l!==!1)&&s}function Ht(t,e){return t.rank<e.rank?1:t.rank>e.rank?-1:t.index-e.index}function Wt(t,e){return t.index=e,t.rank=function(r){return r.props.default?0:Ie(r.props.path).map(zt).join("")}(t),t.props}function Ie(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function zt(t){return t.charAt(0)==":"?1+"*+?".indexOf(t.charAt(t.length-1))||4:5}var qt={},Q=[],Ge=[],F=null,bt={url:Ee()},jt=gt(bt);function Ee(){var t;return""+((t=F&&F.location?F.location:F&&F.getCurrentLocation?F.getCurrentLocation():typeof location<"u"?location:qt).pathname||"")+(t.search||"")}function de(t,e){return e===void 0&&(e=!1),typeof t!="string"&&t.url&&(e=t.replace,t=t.url),function(r){for(var l=Q.length;l--;)if(Q[l].canRoute(r))return!0;return!1}(t)&&function(r,l){l===void 0&&(l="push"),F&&F[l]?F[l](r):typeof history<"u"&&history[l+"State"]&&history[l+"State"](null,null,r)}(t,e?"replace":"push"),wt(t)}function wt(t){for(var e=!1,r=0;r<Q.length;r++)Q[r].routeTo(t)&&(e=!0);return e}function Vt(t){if(t&&t.getAttribute){var e=t.getAttribute("href"),r=t.getAttribute("target");if(e&&e.match(/^\//g)&&(!r||r.match(/^_?self$/i)))return de(e)}}function Gt(t){return t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault(),!1}function Qt(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||t.button)){var e=t.target;do if(e.localName==="a"&&e.getAttribute("href")){if(e.hasAttribute("data-native")||e.hasAttribute("native"))return;if(Vt(e))return Gt(t)}while(e=e.parentNode)}}var Qe=!1;function xt(t){t.history&&(F=t.history),this.state={url:t.url||Ee()}}se(xt.prototype=new ne,{shouldComponentUpdate:function(t){return t.static!==!0||t.url!==this.props.url||t.onChange!==this.props.onChange},canRoute:function(t){var e=ke(this.props.children);return this.g(e,t)!==void 0},routeTo:function(t){this.setState({url:t});var e=this.canRoute(t);return this.p||this.forceUpdate(),e},componentWillMount:function(){this.p=!0},componentDidMount:function(){var t=this;Qe||(Qe=!0,F||addEventListener("popstate",function(){wt(Ee())}),addEventListener("click",Qt)),Q.push(this),F&&(this.u=F.listen(function(e){var r=e.location||e;t.routeTo(""+(r.pathname||"")+(r.search||""))})),this.p=!1},componentWillUnmount:function(){typeof this.u=="function"&&this.u(),Q.splice(Q.indexOf(this),1)},componentWillUpdate:function(){this.p=!0},componentDidUpdate:function(){this.p=!1},g:function(t,e){t=t.filter(Wt).sort(Ht);for(var r=0;r<t.length;r++){var l=t[r],a=Rt(e,l.props.path,l.props);if(a)return[l,a]}},render:function(t,e){var r,l,a=t.onChange,o=e.url,s=this.c,d=this.g(ke(t.children),o);if(d&&(l=Et(d[0],se(se({url:o,matches:r=d[1]},r),{key:void 0,ref:void 0}))),o!==(s&&s.url)){se(bt,s=this.c={url:o,previous:s&&s.url,current:l,path:l?l.props.path:null,matches:r}),s.router=this,s.active=l?[l]:[];for(var u=Ge.length;u--;)Ge[u]({});typeof a=="function"&&a(s)}return ct(jt.Provider,{value:s},l)}});const Kt="v0.4.0",Zt=()=>n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",children:[n("circle",{cx:"11",cy:"11",r:"8"}),n("path",{d:"m21 21-4.35-4.35"})]}),Jt=()=>n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",children:[n("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),n("polyline",{points:"7 10 12 15 17 10"}),n("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),Yt=()=>n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",children:[n("circle",{cx:"12",cy:"12",r:"3"}),n("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),Xt=()=>n("svg",{viewBox:"0 0 100 100",width:"28",height:"28",children:[n("rect",{x:"10",y:"70",width:"80",height:"20",fill:"#58a6ff",rx:"4"}),n("rect",{x:"20",y:"45",width:"60",height:"20",fill:"#58a6ff",rx:"4"}),n("rect",{x:"30",y:"20",width:"40",height:"20",fill:"#58a6ff",rx:"4"})]});function en({children:t,url:e}){const r=[{path:"/",icon:Zt,label:"Search"},{path:"/downloads",icon:Jt,label:"Downloads"},{path:"/settings",icon:Yt,label:"Settings"}],l=a=>a==="/"?e==="/"||e==="/search"||(e==null?void 0:e.startsWith("/item/")):e==null?void 0:e.startsWith(a);return n("div",{class:"layout",children:[n("aside",{class:"sidebar",children:[n("div",{class:"sidebar-header",children:n("div",{class:"sidebar-logo",children:[n(Xt,{}),n("span",{children:"IA Docker"})]})}),n("nav",{class:"sidebar-nav",children:r.map(a=>n("a",{class:`nav-item ${l(a.path)?"active":""}`,href:a.path,children:[n(a.icon,{}),n("span",{children:a.label})]},a.path))}),n("div",{class:"sidebar-footer",children:n("span",{class:"version-badge",children:["IADocker ",Kt]})})]}),n("main",{class:"main-content",children:t})]})}const kt=gt();let tn=0;function nn({children:t}){const[e,r]=y([]),l=je((o,s="info",d=5e3)=>{const u=++tn;return r(c=>[...c,{id:u,message:o,type:s}]),d>0&&setTimeout(()=>{r(c=>c.filter(f=>f.id!==u))},d),u},[]),a=je(o=>{r(s=>s.filter(d=>d.id!==o))},[]);return n(kt.Provider,{value:{addToast:l,removeToast:a},children:[t,n(ln,{toasts:e,onClose:a})]})}function rn(){const t=Mt(kt);if(!t)throw new Error("useToast must be used within ToastProvider");return t}function ln({toasts:t,onClose:e}){return t.length===0?null:n("div",{class:"toast-container",children:t.map(r=>n("div",{class:`toast toast-${r.type}`,children:[n("span",{class:"toast-message",children:r.message}),n("button",{class:"toast-close",onClick:()=>e(r.id),children:"Ã—"})]},r.id))})}const Ct="/api";async function z(t,e={}){const r=await fetch(`${Ct}${t}`,{...e,headers:{"Content-Type":"application/json",...e.headers}});if(!r.ok){const l=await r.json().catch(()=>({detail:"Request failed"}));throw new Error(l.detail||"Request failed")}return r.json()}const T={getAuthStatus:()=>z("/auth/status"),configure:(t,e)=>z("/auth/configure",{method:"POST",body:JSON.stringify({email:t,password:e})}),search:(t,e={})=>{const r=new URLSearchParams({q:t,...e});return z(`/search?${r}`)},getItem:t=>z(`/items/${t}`),getItemFiles:t=>z(`/items/${t}/files`),startDownload:(t,e,r,l)=>z("/downloads",{method:"POST",body:JSON.stringify({identifier:t,files:e,glob:r,format:l})}),getDownloads:()=>z("/downloads"),cancelDownload:t=>z(`/downloads/${t}`,{method:"DELETE"}),clearDownloads:()=>z("/downloads",{method:"DELETE"})};function on(t){const e=new EventSource(`${Ct}/downloads/events`);return e.addEventListener("progress",r=>{t(JSON.parse(r.data))}),e.onerror=()=>{e.close()},()=>e.close()}const ve=()=>n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",children:[n("circle",{cx:"11",cy:"11",r:"8"}),n("path",{d:"m21 21-4.35-4.35"})]}),an=()=>n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",width:"18",height:"18",children:n("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),Ke=()=>n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",width:"18",height:"18",children:[n("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),n("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),sn=({open:t})=>n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",width:"18",height:"18",style:{transform:t?"rotate(180deg)":"none",transition:"transform 0.2s"},children:n("polyline",{points:"6 9 12 15 18 9"})}),cn=[{value:"",label:"All Types"},{value:"texts",label:"ðŸ“š Texts"},{value:"movies",label:"ðŸŽ¬ Movies"},{value:"audio",label:"ðŸŽµ Audio"},{value:"software",label:"ðŸ’¿ Software"},{value:"image",label:"ðŸ–¼ï¸ Images"},{value:"data",label:"ðŸ“Š Data"},{value:"web",label:"ðŸŒ Web Archives"},{value:"etree",label:"ðŸŽ¸ Live Music"},{value:"collection",label:"ðŸ“ Collections"}],Ze=[{value:"",label:"All Collections"},{value:"opensource_movies",label:"Open Source Movies"},{value:"opensource_audio",label:"Open Source Audio"},{value:"prelinger",label:"Prelinger Archives"},{value:"internetarchivebooks",label:"Internet Archive Books"},{value:"oldtimeradio",label:"Old Time Radio"},{value:"computerphotos",label:"Computer Photos"},{value:"librivoxaudio",label:"LibriVox Audiobooks"},{value:"tvnews",label:"TV News Archive"},{value:"softwarelibrary",label:"Software Library"},{value:"classicpcgames",label:"Classic PC Games"},{value:"msdos_games",label:"MS-DOS Games"},{value:"consolelivingroom",label:"Console Living Room"}],dn=[{value:"",label:"Relevance"},{value:"-downloads",label:"Most Downloaded"},{value:"-week",label:"Trending This Week"},{value:"-publicdate",label:"Newest First"},{value:"publicdate",label:"Oldest First"},{value:"titleSorter",label:"Title A-Z"},{value:"-titleSorter",label:"Title Z-A"}];function ee(t){const e=t.trim(),r=/archive\.org\/download\/([^\/\?\#\s]+)\/(.+?)(?:\?|#|$)/,l=e.match(r);if(l)return{identifier:l[1],filename:decodeURIComponent(l[2])};const a=[/archive\.org\/details\/([^\/\?\#\s]+)/,/archive\.org\/download\/([^\/\?\#\s]+)\/?$/,/archive\.org\/metadata\/([^\/\?\#\s]+)/,/archive\.org\/embed\/([^\/\?\#\s]+)/];for(const o of a){const s=e.match(o);if(s)return{identifier:s[1],filename:null}}return/^[a-zA-Z0-9_\-\.]+$/.test(e)&&e.length>2&&e.length<200?{identifier:e,filename:null}:null}function Je(t){const e=t.split(/[\n\r]+/).map(l=>l.trim()).filter(l=>l.length>0),r=[];for(const l of e){const a=ee(l);a&&r.push(a)}return r}function Ye(){const{addToast:t}=rn(),[e,r]=y(""),[l,a]=y([]),[o,s]=y(!1),[d,u]=y(0),[c,f]=y(1),[i,g]=y(!1),[p,b]=y(!1),[w,x]=y(""),[v,m]=y(!1),[I,P]=y(""),[M,N]=y(""),[U,R]=y(""),[E,W]=y(""),[A,O]=y(""),B=Je(w),L=e.includes(`
`)||e.includes("archive.org")?Je(e):[],K=L.length>1,_=async(h,D=1)=>{h==null||h.preventDefault();const q=e.trim();if(K){await S();return}const J=ee(q);if(J&&q.includes("archive.org"))if(J.filename){m(!0);try{await T.startDownload(J.identifier,[J.filename]),t(`ðŸ“¥ Added ${J.filename} to queue`,"success"),m(!1)}catch(j){console.error("Download failed:",j),t("Failed to start download","error"),m(!1)}return}else{de(`/item/${J.identifier}`);return}if(!(!q&&!M&&!I&&!A)){s(!0),f(D);try{const j={page:D,rows:24};I&&(j.mediatype=I),M&&(j.collection=M),U&&(j.sort=U);let _e=q||"*";E&&(_e+=` AND year:${E}`),A&&(_e+=` AND creator:"${A}"`);const Le=await T.search(_e,j);a(Le.results),u(Le.total)}catch(j){console.error("Search failed:",j)}finally{s(!1)}}},S=async()=>{if(L.length===0)return;m(!0),setDownloadProgress(`Queuing 0/${L.length}...`);let h=0;for(const D of L)try{D.filename?await T.startDownload(D.identifier,[D.filename]):await T.startDownload(D.identifier),h++,setDownloadProgress(`Queuing ${h}/${L.length}...`)}catch(q){console.error(`Failed to queue ${D.identifier}:`,q)}t(`ðŸ“¥ Added ${L.length} items to queue`,"success"),m(!1)},fe=h=>{de(`/item/${h}`)},St=async()=>{const h=ee(e.trim());if(h)if(h.filename){m(!0);try{await T.startDownload(h.identifier,[h.filename]),t(`ðŸ“¥ Added ${h.filename} to queue`,"success"),m(!1)}catch(D){console.error("Download failed:",D),t("Failed to start download","error"),m(!1)}}else de(`/item/${h.identifier}`)},$t=()=>{P(""),N(""),R(""),W(""),O("")},ae=I||M||U||E||A,Z=Math.ceil(d/24);return n("div",{children:[n("div",{class:"page-header",children:[n("h1",{class:"page-title",children:"Search Archive.org"}),n("p",{class:"page-subtitle",children:"Explore millions of items in the Internet Archive"})]}),n("form",{onSubmit:_,class:"search-bar",style:{flexWrap:"wrap",gap:"var(--space-sm)"},children:[n("div",{class:"search-input-wrapper",style:{flex:"1 1 300px"},children:[n(ve,{}),n("input",{type:"text",class:"search-input",placeholder:"Search, paste URL, or enter identifier...",value:e,onInput:h=>r(h.target.value)})]}),n("button",{type:"button",class:`btn ${i||ae?"btn-primary":"btn-secondary"}`,onClick:()=>g(!i),style:{display:"flex",alignItems:"center",gap:"6px"},children:[n(an,{}),"Filters",ae&&n("span",{style:{background:"rgba(255,255,255,0.3)",borderRadius:"50%",width:"18px",height:"18px",fontSize:"11px",display:"flex",alignItems:"center",justifyContent:"center"},children:"!"}),n(sn,{open:i})]}),n("button",{type:"button",class:`btn ${p?"btn-primary":"btn-secondary"}`,onClick:()=>b(!p),style:{display:"flex",alignItems:"center",gap:"6px"},children:"ðŸ“¥ Bulk"}),n("button",{type:"submit",class:"btn btn-primary btn-lg",disabled:o,children:o?"Searching...":"Search"})]}),p&&n("div",{class:"card",style:{marginBottom:"var(--space-lg)"},children:[n("div",{class:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n("strong",{children:"ðŸ“¥ Bulk Download"}),B.length>0&&n("span",{class:"result-badge",children:[B.length," items detected"]})]}),n("div",{class:"card-body",children:[n("div",{class:"form-group",style:{marginBottom:"var(--space-md)"},children:[n("label",{class:"form-label",children:"Paste archive.org URLs (one per line)"}),n("textarea",{class:"form-input",rows:"6",placeholder:`https://archive.org/download/item1/file.zip
https://archive.org/details/item2
https://archive.org/download/item3/folder/file.mp4`,value:w,onInput:h=>x(h.target.value),style:{fontFamily:"var(--font-mono)",fontSize:"0.875rem"}})]}),B.length>0&&n("div",{style:{fontSize:"0.85rem",color:"var(--color-text-secondary)",marginBottom:"var(--space-md)"},children:[B.filter(h=>h.filename).length," specific files, ",B.filter(h=>!h.filename).length," full items"]}),n("div",{style:{display:"flex",gap:"var(--space-sm)"},children:[n("button",{class:"btn btn-primary",onClick:async()=>{if(B.length===0)return;m(!0),setDownloadProgress(`Queuing 0/${B.length}...`);let h=0;for(const D of B)try{D.filename?await T.startDownload(D.identifier,[D.filename]):await T.startDownload(D.identifier),h++,setDownloadProgress(`Queuing ${h}/${B.length}...`)}catch(q){console.error(`Failed to queue ${D.identifier}:`,q)}t(`ðŸ“¥ Added ${B.length} items to queue`,"success"),m(!1),x(""),b(!1)},disabled:v||B.length===0,children:v?"Queuing...":`Download ${B.length} Items`}),n("button",{class:"btn btn-secondary",onClick:()=>x(""),children:"Clear"})]})]})]}),K&&n("div",{style:{marginTop:"var(--space-sm)",marginBottom:"var(--space-md)",padding:"var(--space-md)",background:"rgba(88, 166, 255, 0.15)",borderRadius:"var(--radius-md)",border:"1px solid rgba(88, 166, 255, 0.3)"},children:[n("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-sm)",marginBottom:"var(--space-sm)"},children:[n(Ke,{}),n("strong",{children:"Bulk Download Mode"}),n("span",{class:"result-badge",style:{marginLeft:"auto"},children:[L.length," items"]})]}),n("div",{style:{fontSize:"0.85rem",color:"var(--color-text-secondary)",marginBottom:"var(--space-md)"},children:[L.filter(h=>h.filename).length," specific files, ",L.filter(h=>!h.filename).length," full items"]}),n("div",{style:{display:"flex",gap:"var(--space-sm)",flexWrap:"wrap"},children:[n("button",{class:"btn btn-primary",onClick:S,disabled:v,children:v?downloadProgress||"Queuing...":`ðŸ“¥ Download All ${L.length} Items`}),n("button",{class:"btn btn-secondary",onClick:()=>r(""),children:"Clear"})]})]}),!K&&e.trim()&&ee(e.trim())&&(()=>{const h=ee(e.trim());return n("div",{style:{marginTop:"var(--space-sm)",marginBottom:"var(--space-md)",padding:"var(--space-sm) var(--space-md)",background:h.filename?"rgba(63, 185, 80, 0.15)":"var(--color-accent-muted)",borderRadius:"var(--radius-md)",display:"flex",alignItems:"center",gap:"var(--space-sm)",border:h.filename?"1px solid rgba(63, 185, 80, 0.3)":"none"},children:[n(Ke,{}),n("span",{style:{flex:1},children:h.filename?n(G,{children:["Download file: ",n("strong",{children:h.filename})," from ",n("strong",{children:h.identifier})]}):n(G,{children:["Go directly to item: ",n("strong",{children:h.identifier})]})}),n("button",{class:"btn btn-primary",onClick:St,disabled:v,children:v?"Starting...":h.filename?"ðŸ“¥ Download":"Open Item"})]})})(),i&&n("div",{class:"card",style:{marginBottom:"var(--space-lg)"},children:n("div",{class:"card-body",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"var(--space-md)"},children:[n("div",{class:"form-group",style:{margin:0},children:[n("label",{class:"form-label",children:"Media Type"}),n("select",{class:"form-input",value:I,onChange:h=>P(h.target.value),children:cn.map(h=>n("option",{value:h.value,children:h.label},h.value))})]}),n("div",{class:"form-group",style:{margin:0},children:[n("label",{class:"form-label",children:"Collection"}),n("select",{class:"form-input",value:M,onChange:h=>N(h.target.value),children:Ze.map(h=>n("option",{value:h.value,children:h.label},h.value))})]}),n("div",{class:"form-group",style:{margin:0},children:[n("label",{class:"form-label",children:"Sort By"}),n("select",{class:"form-input",value:U,onChange:h=>R(h.target.value),children:dn.map(h=>n("option",{value:h.value,children:h.label},h.value))})]}),n("div",{class:"form-group",style:{margin:0},children:[n("label",{class:"form-label",children:"Year"}),n("input",{type:"text",class:"form-input",placeholder:"e.g. 2020 or 1990-2000",value:E,onInput:h=>W(h.target.value)})]}),n("div",{class:"form-group",style:{margin:0},children:[n("label",{class:"form-label",children:"Creator"}),n("input",{type:"text",class:"form-input",placeholder:"Author or creator",value:A,onInput:h=>O(h.target.value)})]}),n("div",{class:"form-group",style:{margin:0,display:"flex",alignItems:"flex-end"},children:n("button",{type:"button",class:"btn btn-secondary",onClick:$t,disabled:!ae,children:"Clear Filters"})})]})}),l.length>0&&n("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-md)"},children:[n("p",{class:"text-secondary",children:["Found ",d.toLocaleString()," results",ae&&" (filtered)"]}),Z>1&&n("div",{style:{display:"flex",gap:"var(--space-sm)",alignItems:"center"},children:[n("button",{class:"btn btn-secondary",disabled:c<=1,onClick:()=>_(null,c-1),children:"â† Prev"}),n("span",{class:"text-secondary",children:["Page ",c," of ",Z]}),n("button",{class:"btn btn-secondary",disabled:c>=Z,onClick:()=>_(null,c+1),children:"Next â†’"})]})]}),o?n("div",{class:"loading-container",children:n("div",{class:"loading-spinner"})}):l.length>0?n(G,{children:[n("div",{class:"results-grid",children:l.map(h=>n("div",{class:"result-card",onClick:()=>fe(h.identifier),children:[n("img",{class:"result-thumbnail",src:`https://archive.org/services/img/${h.identifier}`,alt:h.title,loading:"lazy",onError:D=>{D.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect fill="%2321262d" width="100" height="100"/><text x="50" y="55" text-anchor="middle" fill="%236e7681" font-size="12">No Image</text></svg>'}}),n("div",{class:"result-info",children:[n("h3",{class:"result-title",children:h.title||h.identifier}),n("div",{class:"result-meta",children:[h.mediatype&&n("span",{class:"result-badge",children:h.mediatype}),h.date&&n("span",{children:h.date.substring(0,10)})]}),h.creator&&n("div",{class:"text-secondary",style:{fontSize:"0.8rem",marginTop:"4px"},children:typeof h.creator=="string"?h.creator:h.creator[0]})]})]},h.identifier))}),Z>1&&n("div",{style:{display:"flex",justifyContent:"center",gap:"var(--space-sm)",marginTop:"var(--space-xl)"},children:[n("button",{class:"btn btn-secondary",disabled:c<=1,onClick:()=>_(null,c-1),children:"â† Previous"}),n("span",{class:"text-secondary",style:{padding:"8px 16px"},children:["Page ",c," of ",Z]}),n("button",{class:"btn btn-secondary",disabled:c>=Z,onClick:()=>_(null,c+1),children:"Next â†’"})]})]}):e&&!o?n("div",{class:"empty-state",children:[n(ve,{}),n("h3",{children:"No results found"}),n("p",{children:"Try different keywords or adjust filters"})]}):n("div",{class:"empty-state",children:[n(ve,{}),n("h3",{children:"Start Your Search"}),n("p",{children:"Enter a query, paste an archive.org URL, or browse by collection"}),n("div",{style:{marginTop:"var(--space-lg)",display:"flex",flexWrap:"wrap",gap:"var(--space-sm)",justifyContent:"center"},children:Ze.slice(1,7).map(h=>n("button",{class:"btn btn-secondary",onClick:()=>{N(h.value),g(!0),setTimeout(()=>_(null,1),100)},children:h.label},h.value))})]})]})}const me=()=>n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",width:"20",height:"20",children:[n("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),n("polyline",{points:"7 10 12 15 17 10"}),n("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),un=()=>n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",width:"20",height:"20",children:[n("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n("polyline",{points:"14 2 14 8 20 8"})]}),Xe=()=>n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",width:"20",height:"20",children:[n("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),n("polyline",{points:"12 19 5 12 12 5"})]}),hn=()=>n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",width:"16",height:"16",children:[n("circle",{cx:"11",cy:"11",r:"8"}),n("path",{d:"m21 21-4.35-4.35"})]}),pn=()=>n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",width:"16",height:"16",children:[n("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),n("polyline",{points:"15 3 21 3 21 9"}),n("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]});function et(t){if(!t)return"Unknown size";const e=parseInt(t);if(isNaN(e))return"Unknown size";const r=["B","KB","MB","GB","TB"];let l=0,a=e;for(;a>=1024&&l<r.length-1;)a/=1024,l++;return`${a.toFixed(1)} ${r[l]}`}function ye(t){const e=t.split(".");return e.length>1?e.pop().toUpperCase():"?"}const fn={Video:["MP4","WEBM","OGV","AVI","MKV","MOV","MPEG"],Audio:["MP3","OGG","FLAC","WAV","M4A","AAC"],Image:["JPG","JPEG","PNG","GIF","WEBP","BMP","TIFF"],Document:["PDF","TXT","DOC","DOCX","EPUB","MOBI"],Archive:["ZIP","RAR","7Z","TAR","GZ","BZ2"],Data:["XML","JSON","CSV","SQL","SQLITE"]};function tt(t){for(const[e,r]of Object.entries(fn))if(r.includes(t))return e;return"Other"}function _n({identifier:t}){var N,U,R,E,W,A,O,B,L,K;const[e,r]=y(null),[l,a]=y(!0),[o,s]=y(null),[d,u]=y({}),[c,f]=y(""),[i,g]=y(""),[p,b]=y(!1);Be(()=>{async function _(){a(!0);try{const S=await T.getItem(t);r(S)}catch(S){s(S.message)}finally{a(!1)}}_()},[t]);const w=Se(()=>e!=null&&e.files?e.files.filter(_=>{if(c&&!_.name.toLowerCase().includes(c.toLowerCase()))return!1;if(i){const S=ye(_.name);if(tt(S)!==i)return!1}return!(p&&_.source!=="original")}):[],[e==null?void 0:e.files,c,i,p]),x=Se(()=>{if(!(e!=null&&e.files))return[];const _=new Set;return e.files.forEach(S=>_.add(tt(ye(S.name)))),Array.from(_).sort()},[e==null?void 0:e.files]),v=async _=>{u(S=>({...S,[_]:!0}));try{await T.startDownload(t,[_]),window.location.href="/downloads"}catch(S){console.error("Download failed:",S),u(fe=>({...fe,[_]:!1}))}},m=async()=>{u(_=>({..._,__all__:!0}));try{await T.startDownload(t),window.location.href="/downloads"}catch(_){console.error("Download failed:",_),u(S=>({...S,__all__:!1}))}},I=async()=>{u(_=>({..._,__filtered__:!0}));try{const _=w.map(S=>S.name);await T.startDownload(t,_),window.location.href="/downloads"}catch(_){console.error("Download failed:",_),u(S=>({...S,__filtered__:!1}))}};if(l)return n("div",{class:"loading-container",children:n("div",{class:"loading-spinner"})});if(o)return n("div",{class:"empty-state",children:[n("h3",{children:"Error loading item"}),n("p",{children:o}),n("a",{href:"/",class:"btn btn-secondary mt-md",children:[n(Xe,{})," Back to Search"]})]});const P=c||i||p,M=w.reduce((_,S)=>_+(parseInt(S.size)||0),0);return n("div",{children:[n("div",{style:{display:"flex",gap:"var(--space-md)",marginBottom:"var(--space-lg)"},children:[n("a",{href:"/",class:"btn btn-secondary",children:[n(Xe,{})," Back to Search"]}),n("a",{href:`https://archive.org/details/${t}`,target:"_blank",rel:"noopener",class:"btn btn-secondary",children:[n(pn,{})," View on Archive.org"]})]}),n("div",{class:"card",style:{marginBottom:"var(--space-lg)"},children:n("div",{class:"card-body",style:{display:"flex",gap:"var(--space-lg)",flexWrap:"wrap"},children:[n("img",{src:`https://archive.org/services/img/${t}`,alt:((N=e==null?void 0:e.metadata)==null?void 0:N.title)||t,style:{width:"200px",height:"150px",objectFit:"cover",borderRadius:"var(--radius-md)",flexShrink:0}}),n("div",{style:{flex:1,minWidth:"250px"},children:[n("h1",{class:"page-title",style:{marginBottom:"var(--space-sm)"},children:((U=e==null?void 0:e.metadata)==null?void 0:U.title)||t}),n("p",{class:"text-secondary",style:{fontFamily:"monospace",fontSize:"0.85rem"},children:t}),((R=e==null?void 0:e.metadata)==null?void 0:R.creator)&&n("p",{style:{marginTop:"var(--space-sm)"},children:["By ",n("strong",{children:e.metadata.creator})]}),((E=e==null?void 0:e.metadata)==null?void 0:E.date)&&n("p",{class:"text-secondary",children:e.metadata.date}),((W=e==null?void 0:e.metadata)==null?void 0:W.description)&&n("p",{style:{marginTop:"var(--space-md)",color:"var(--color-text-secondary)"},children:[e.metadata.description.substring(0,400),e.metadata.description.length>400?"...":""]}),n("div",{style:{marginTop:"var(--space-md)",display:"flex",gap:"var(--space-sm)",flexWrap:"wrap"},children:[((A=e==null?void 0:e.metadata)==null?void 0:A.mediatype)&&n("span",{class:"result-badge",children:e.metadata.mediatype}),((O=e==null?void 0:e.metadata)==null?void 0:O.collection)&&n("span",{class:"result-badge",style:{background:"var(--color-accent-muted)"},children:Array.isArray(e.metadata.collection)?e.metadata.collection[0]:e.metadata.collection})]}),n("div",{style:{marginTop:"var(--space-lg)"},children:n("button",{class:"btn btn-primary btn-lg",onClick:m,disabled:d.__all__,children:[n(me,{}),d.__all__?"Starting...":"Download All Files"]})})]})]})}),n("div",{class:"card",children:[n("div",{class:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"var(--space-md)"},children:[n("span",{children:["Files (",((B=e==null?void 0:e.files)==null?void 0:B.length)||0,")"]}),P&&w.length>0&&w.length<(((L=e==null?void 0:e.files)==null?void 0:L.length)||0)&&n("button",{class:"btn btn-primary",onClick:I,disabled:d.__filtered__,style:{fontSize:"0.85rem"},children:[n(me,{}),"Download ",w.length," Filtered (",et(M),")"]})]}),n("div",{style:{padding:"var(--space-md)",borderBottom:"1px solid var(--color-border)",display:"flex",gap:"var(--space-md)",flexWrap:"wrap",alignItems:"center"},children:[n("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-sm)",flex:"1 1 200px"},children:[n(hn,{}),n("input",{type:"text",class:"form-input",placeholder:"Search files...",value:c,onInput:_=>f(_.target.value),style:{margin:0}})]}),n("select",{class:"form-input",value:i,onChange:_=>g(_.target.value),style:{margin:0,width:"auto"},children:[n("option",{value:"",children:"All Types"}),x.map(_=>n("option",{value:_,children:_},_))]}),n("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},children:[n("input",{type:"checkbox",checked:p,onChange:_=>b(_.target.checked)}),"Original files only"]}),P&&n("span",{class:"text-secondary",children:["Showing ",w.length," of ",(K=e==null?void 0:e.files)==null?void 0:K.length]})]}),n("div",{class:"card-body",style:{padding:0},children:n("div",{class:"job-list",children:w.length===0?n("div",{class:"empty-state",style:{padding:"var(--space-xl)"},children:n("p",{children:"No files match your filters"})}):w.map(_=>n("div",{class:"job-item",children:[n("div",{class:"job-icon",children:n(un,{})}),n("div",{class:"job-info",style:{minWidth:0},children:[n("div",{class:"job-title",style:{wordBreak:"break-all"},children:_.name}),n("div",{class:"job-subtitle",children:[et(_.size)," â€¢ ",_.format||ye(_.name),_.source&&n("span",{style:{marginLeft:"8px",opacity:.7},children:["(",_.source,")"]})]})]}),n("button",{class:"btn btn-secondary btn-icon",onClick:()=>v(_.name),disabled:d[_.name],title:"Download",children:n(me,{})})]},_.name))})})]})]})}const nt=()=>n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",width:"20",height:"20",children:[n("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),n("polyline",{points:"7 10 12 15 17 10"}),n("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),gn=()=>n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",width:"20",height:"20",children:[n("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),vn=()=>n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",width:"20",height:"20",children:n("polyline",{points:"20 6 9 17 4 12"})});function mn(){const[t,e]=y([]),[r,l]=y(!0);Be(()=>{async function u(){try{const f=await T.getDownloads();e(f)}catch(f){console.error("Failed to load downloads:",f)}finally{l(!1)}}return u(),on(f=>{e(i=>{const g=i.findIndex(p=>p.id===f.id);if(g>=0){const p=[...i];return p[g]=f,p}return[f,...i]})})},[]);const a=async u=>{try{await T.cancelDownload(u)}catch(c){console.error("Failed to cancel:",c)}},o=u=>({pending:"status-pending",running:"status-running",completed:"status-completed",failed:"status-failed",cancelled:"status-failed"})[u]||"status-pending",s=async()=>{try{await T.clearDownloads(),e(u=>u.filter(c=>c.status==="pending"||c.status==="running"))}catch(u){console.error("Failed to clear downloads:",u)}},d=t.some(u=>u.status==="completed"||u.status==="failed"||u.status==="cancelled");return n("div",{children:[n("div",{class:"page-header",style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[n("div",{children:[n("h1",{class:"page-title",children:"Downloads"}),n("p",{class:"page-subtitle",children:"Manage your download queue"})]}),d&&n("button",{class:"btn btn-secondary",onClick:s,children:"ðŸ—‘ï¸ Clear History"})]}),r?n("div",{class:"loading-container",children:n("div",{class:"loading-spinner"})}):t.length>0?n("div",{class:"job-list",children:t.map(u=>n("div",{class:"job-item",children:[n("div",{class:"job-icon",children:u.status==="completed"?n(vn,{}):n(nt,{})}),n("div",{class:"job-info",style:{flex:1},children:[n("div",{class:"job-title",children:u.filename||"All files"}),n("div",{class:"job-subtitle",children:[u.identifier,u.error&&` â€¢ ${u.error}`]}),u.status==="running"&&n("div",{class:"progress-bar",style:{marginTop:"var(--space-sm)"},children:n("div",{class:"progress-fill",style:{width:`${u.progress}%`}})})]}),n("div",{class:"job-status",children:[n("span",{class:`status-badge ${o(u.status)}`,children:u.status}),(u.status==="pending"||u.status==="running")&&n("button",{class:"btn btn-secondary btn-icon",onClick:()=>a(u.id),title:"Cancel",children:n(gn,{})})]})]},u.id))}):n("div",{class:"empty-state",children:[n(nt,{}),n("h3",{children:"No Downloads"}),n("p",{children:"Start by searching for items and downloading files"}),n("a",{href:"/",class:"btn btn-primary mt-md",children:"Search Archive"})]})]})}const yn=()=>n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",width:"20",height:"20",children:n("polyline",{points:"20 6 9 17 4 12"})}),bn=()=>n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",width:"20",height:"20",children:[n("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),wn=()=>n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",width:"16",height:"16",children:[n("polyline",{points:"23 4 23 10 17 10"}),n("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]}),xn=()=>n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",width:"16",height:"16",children:n("path",{d:"m21 2-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0 3 3L22 7l-3-3m-3.5 3.5L19 4"})});function kn(){const[t,e]=y(null),[r,l]=y(!0),[a,o]=y(""),[s,d]=y(""),[u,c]=y(!1),[f,i]=y(null),[g,p]=y(!1),b=async()=>{l(!0),i(null);try{const v=await T.getAuthStatus();e(v),v.email&&!a&&o(v.email)}catch(v){console.error("Failed to load status:",v),i({type:"error",text:"Failed to check configuration status"})}finally{l(!1)}};Be(()=>{b()},[]);const w=async v=>{if(v.preventDefault(),!a||!s){i({type:"error",text:"Email and password are required"});return}c(!0),i(null);try{const m=await T.configure(a,s);if(m.success){d(""),i({type:"success",text:"Configuration saved! Verifying..."}),p(!0),await new Promise(P=>setTimeout(P,1e3));const I=await T.getAuthStatus();I.configured?(e(I),i({type:"success",text:"âœ“ Login successful! Configuration verified."})):i({type:"warning",text:"Configuration saved but could not verify. Check credentials."}),p(!1)}else throw new Error(m.message||"Configuration failed")}catch(m){i({type:"error",text:m.message||"Login failed. Check your credentials."}),c(!1),p(!1);return}c(!1)},x=async()=>{p(!0),i(null);try{const v=await T.getAuthStatus();v.configured?(e(v),i({type:"success",text:"âœ“ Configuration is valid!"})):i({type:"error",text:"Not configured or credentials invalid"})}catch{i({type:"error",text:"Failed to verify configuration"})}p(!1)};return r?n("div",{class:"loading-container",children:n("div",{class:"loading-spinner"})}):n("div",{children:[n("div",{class:"page-header",children:[n("h1",{class:"page-title",children:"Settings"}),n("p",{class:"page-subtitle",children:"Configure your Internet Archive account"})]}),n("div",{class:"card",children:[n("div",{class:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n("span",{children:"Account Configuration"}),n("div",{style:{display:"flex",gap:"var(--space-sm)"},children:[n("button",{class:"btn btn-secondary",onClick:x,disabled:g,style:{padding:"4px 12px",fontSize:"0.85rem"},children:[n(xn,{})," ",g?"Verifying...":"Test Login"]}),n("button",{class:"btn btn-secondary btn-icon",onClick:b,title:"Refresh status",style:{padding:"4px 8px"},children:n(wn,{})})]})]}),n("div",{class:"card-body",children:[n("div",{class:"flex items-center gap-md",style:{marginBottom:"var(--space-lg)",padding:"var(--space-md)",background:t!=null&&t.configured?"rgba(63, 185, 80, 0.1)":"rgba(248, 81, 73, 0.1)",borderRadius:"var(--radius-md)",border:`1px solid ${t!=null&&t.configured?"rgba(63, 185, 80, 0.3)":"rgba(248, 81, 73, 0.3)"}`},children:[n("div",{style:{width:"48px",height:"48px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:t!=null&&t.configured?"rgba(63, 185, 80, 0.2)":"rgba(248, 81, 73, 0.2)",color:t!=null&&t.configured?"var(--color-success)":"var(--color-error)"},children:t!=null&&t.configured?n(yn,{}):n(bn,{})}),n("div",{style:{flex:1},children:[n("div",{style:{fontWeight:600,fontSize:"1.1rem"},children:t!=null&&t.configured?"âœ“ Connected to Archive.org":"âœ— Not Configured"}),t!=null&&t.email?n("div",{class:"text-secondary",children:["Logged in as: ",t.email]}):t!=null&&t.configured?n("div",{class:"text-secondary",style:{fontStyle:"italic"},children:"API keys saved"}):n("div",{class:"text-secondary",children:"Enter your archive.org credentials below"})]})]}),f&&n("div",{style:{padding:"var(--space-md)",borderRadius:"var(--radius-md)",marginBottom:"var(--space-lg)",background:f.type==="success"?"rgba(63, 185, 80, 0.2)":f.type==="warning"?"rgba(210, 153, 34, 0.2)":"rgba(248, 81, 73, 0.2)",color:f.type==="success"?"var(--color-success)":f.type==="warning"?"var(--color-warning)":"var(--color-error)",border:`1px solid ${f.type==="success"?"rgba(63, 185, 80, 0.3)":f.type==="warning"?"rgba(210, 153, 34, 0.3)":"rgba(248, 81, 73, 0.3)"}`},children:f.text}),n("form",{onSubmit:w,children:[n("div",{class:"form-group",children:[n("label",{class:"form-label",children:"Archive.org Email *"}),n("input",{type:"email",class:"form-input",placeholder:"your@email.com",value:a,onInput:v=>o(v.target.value),required:!0,autoComplete:"email"})]}),n("div",{class:"form-group",children:[n("label",{class:"form-label",children:"Password *"}),n("input",{type:"password",class:"form-input",placeholder:t!=null&&t.configured?"Enter password to update":"Your archive.org password",value:s,onInput:v=>d(v.target.value),required:!0,autoComplete:"current-password"}),n("p",{class:"text-secondary",style:{fontSize:"0.8rem",marginTop:"4px"},children:"Your password is sent directly to archive.org and stored locally in /config/ia.ini"})]}),n("button",{type:"submit",class:"btn btn-primary btn-lg",disabled:u||g||!a||!s,style:{width:"100%"},children:u?"Saving...":g?"Verifying...":t!=null&&t.configured?"ðŸ”„ Update Configuration":"ðŸ” Login & Save"})]})]})]}),n("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"var(--space-lg)",marginTop:"var(--space-lg)"},children:[n("div",{class:"card",children:[n("div",{class:"card-header",children:"ðŸ“¥ Downloads"}),n("div",{class:"card-body",children:n("p",{class:"text-secondary",children:["Downloads are saved to the ",n("code",{children:"/data"})," volume, which maps to your local ",n("code",{children:"./data"})," directory."]})})]}),n("div",{class:"card",children:[n("div",{class:"card-header",children:"ðŸ” Configuration"}),n("div",{class:"card-body",children:n("p",{class:"text-secondary",children:["Credentials are stored in ",n("code",{children:"/config/ia.ini"}),". This file persists across container restarts."]})})]})]})]})}function Cn(){return n(nn,{children:n(en,{children:n(xt,{children:[n(Ye,{path:"/"}),n(Ye,{path:"/search"}),n(_n,{path:"/item/:identifier"}),n(mn,{path:"/downloads"}),n(kn,{path:"/settings"})]})})})}Bt(n(Cn,{}),document.getElementById("app"));
